<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="spring.model.mapper.noticeMapper">
	
<select id="list" parameterType="Map" resultType="NoticeDTO">
select no,subject,writer,(date, 'yyyy-mm-dd')date
	from (
			select no,subject,writer,date,rownum r
			from (
				select no,subject,writer,date
				from notice
				<where>
					<choose>
						<when test="col == 'subject'">
						subject like '%'||#{word}||'%'
						</when>
						<when test="col == 'content'">
						content like '%'||#{word}||'%'
						</when>
						<when test="col == 'writer'">
						writer like '%'||#{word}||'%'
						</when>
					</choose>
				</where>
				order by no desc
				)
		)
<![CDATA[
	where r>#{sno} and r<#{eno}
]]>
</select>
</mapper>